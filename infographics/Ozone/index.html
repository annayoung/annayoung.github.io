<!DOCTYPE HTML>
<html>
<head>
<script src="./jquery.min.js" type="text/javascript"></script>
</head>

<body style="background-color: rgb(58, 158, 153);">

<object id="svg-object" width="100%" height="100%" style="position: absolute" type="image/svg+xml" data="./Ozone1.svg">Your browser does not support SVG</object>

<script type="text/javascript">

var obj = document.getElementById("svg-object");
obj.addEventListener("load", function() {
	var object = obj.contentDocument;

	var balloon = object.getElementById("balloon");
	var buildings = object.getElementById("buildings");
	var front = object.getElementById("front-buildings");
	var factory = object.getElementById("factory");
	var stacks = object.getElementsByClassName("smoke-stack");
	var trees = object.getElementById("trees");
	var trees_hidden = object.getElementById("trees-person");
	var person = object.getElementById("person");
	var beach = object.getElementById("person+beach");
	var sand = object.getElementById("beach");
	var smog = object.getElementById("smog");

// hover over elements
	$(balloon).hover(function() {
		$(this).attr("fill", "#D1DE58");
	}, function() {
		$(this).attr("fill", "#FFFFFF");
	});
	$(buildings).hover(function() {
		$(front).attr("fill", "#D1DE58");
		$(factory).attr("fill", "#D1DE58");
		$(stacks).each(function() {
			$(this).attr("fill", "#D1DE58");
		});
	}, function() {
		$(front).attr("fill", "#FFFFFF");
		$(factory).attr("fill", "#FFFFFF");
		$(stacks).each(function() {
			$(this).attr("fill", "#FFFFFF");
		});
	});	
	$([trees, trees_hidden]).hover(function() {
		$(object.getElementsByClassName("tree")).each(function() {
			$(this).attr("fill", "#D1DE58");
		});
		$(object.getElementsByClassName("tree-gray")).each(function() {
			$(this).attr("fill", "#99a541");
		});
	}, function() {
		$(object.getElementsByClassName("tree")).each(function() {
			$(this).attr("fill", "#FFFFFF");
		});
		$(object.getElementsByClassName("tree-gray")).each(function() {
			$(this).attr("fill", "#D1D3D4");
		});
	});

	$(person).hover(function() {
		$(this).attr("fill", "#D1DE58");
	}, function() {
		$(this).attr("fill", "rgb(58, 158, 153)");
	});

	$(object.getElementById("page5")).hover(function() {
		$(object.getElementById("title")).attr("fill", "#3A9E99");
		$(object.getElementById("triangle")).attr("fill", "#D1DE58");
		$(object.getElementById("triangle")).attr("opacity", "1");
	}, function() {
		$(object.getElementById("title")).attr("fill", "#D1DE58");
		$(object.getElementById("triangle")).attr("fill", "#FFFFFF");
		$(object.getElementById("triangle")).attr("opacity", "0.3");
	});


	var seconds = 1; // animation time

// GO BACK BUTTON
	// from person
	$(object.getElementById("go_back")).click(function() {
		$(person).attr("cursor", "pointer").attr("pointer-events", "auto");
		$(trees_hidden).attr("cursor", "pointer").attr("pointer-events", "auto");
		//$(object.getElementById("respiratory2")).fadeOut(200);
		$(object.getElementsByClassName("trees-hide")).show();
		$(object.getElementById("tree-ground")).delay(seconds*1000).show(0);
		$(object.getElementById("go_back")).delay(100).fadeOut(200);

		$(object.getElementById("respiratory2")).fadeIn(200);
		//$(object.getElementById("respiratory2-health")).fadeIn(200);
		$(object.getElementById("respiratory-close")).fadeOut(200);
		$(object.getElementById("respiratory-info")).fadeOut(200);
	});
	// from cities
	$(object.getElementById("go_back_cities")).click(function() {
		$(buildings).attr("cursor", "pointer").attr("pointer-events", "auto");
		$([trees, trees_hidden]).attr("cursor", "pointer").attr("pointer-events", "auto");
		$(smog).delay(1000*seconds).fadeIn(seconds*1000);
		$(object.getElementById("group1")).fadeOut(400);
		$(object.getElementById("group2")).fadeOut(400);
		$(object.getElementById("group3")).fadeOut(400);
		$(object.getElementById("go_back_cities")).delay(100).fadeOut(200);
	});
	// from balloon
	$(object.getElementById("go_back_balloon")).click(function() {
		$([balloon, buildings, trees, trees_hidden]).attr("cursor", "pointer").attr("pointer-events", "auto");
		$(smog).delay(1000*seconds).fadeIn(seconds*1000);

		$([object.getElementById("cityscape"), object.getElementById("mountains")]).fadeIn(700);
		$(object.getElementById("cityscape2")).fadeOut(700);
	});

// HIDE ELEMENTS OF FIRST PAGE	
	// balloon floats up
	$(balloon).append(createMotion(2*seconds, "person.click; buildings.click", "0,0", "0,-1600", "go_back.click; go_back_cities.click"));
	$(balloon).append(createMotion(2*seconds, "go_back.click; go_back_cities.click", "0,-1600", "0,0", "person.click; buildings.click"));	
	// text moves out
	$(object.getElementById("page1-text")).append(createMotion(seconds, "buildings.click; balloon.click", "0,0", "2000,0", "go_back_cities.click + " + seconds + "s; go_back_balloon.click + " + seconds + "s"))
		.append(createMotion(seconds, "go_back_cities.click + " + seconds + "s; go_back_balloon.click + " + seconds + "s", "2000,0", "0,0", "buildings.click"));
	// beach moves out
	$([person, sand]).append(createMotion(seconds, "buildings.click; balloon.click", "0,0", "2000,0", "go_back_cities.click; go_back_balloon.click"))
		.append(createMotion(seconds, "go_back_cities.click + " + seconds + "s; go_back_balloon.click + " + seconds + "s", "2000,0", "0,0", "buildings.click + " + seconds + "s; balloon.click + " + seconds + "s"));
	// side trees move out
	$([trees_hidden, object.getElementById("trees-to-hide")]).append(createMotion(seconds, "balloon.click", "0,0", "2000,0", "go_back_balloon.click"))
		.append(createMotion(seconds, "go_back_balloon.click + " + seconds + "s", "2000,0", "0,0", "balloon.click + " + seconds + "s"));	

// WHEN PERSON CLICKED
	personClicked(object, person, trees_hidden, balloon, beach, seconds);

// WHEN CITIES/FACTORY CLICKED
	citiesClicked(object, buildings, seconds, trees, person, trees_hidden, smog, sand);

// WHEN BALLOON CLICKED
	balloonClicked(object, seconds, balloon, beach, buildings, trees, trees_hidden, smog);

});

	function balloonClicked(object, seconds, balloon, beach, buildings, trees, trees_hidden, smog) {
		$(balloon).click(function() {
			$([balloon, buildings, trees, trees_hidden]).attr("cursor", "auto").attr("pointer-events", "none");
			$(smog).fadeOut(seconds*1000);

			$([object.getElementById("cityscape"), object.getElementById("mountains")])
				.delay(seconds*1000).fadeOut(700);
			$(object.getElementById("cityscape2")).delay(seconds*1000).fadeIn(700);
		});

		// text come in
		$(object.getElementById("monitoring-text")).append(createMotion(seconds, "balloon.click", "-1600,0", "0,0", "go_back_balloon.click + " + seconds + "s"))
			.append(createSet("visibility", "visible", "balloon.click", "go_back_balloon.click + " + (2*seconds) + "s", false))
			.append(createMotion(seconds, "go_back_balloon.click + " + seconds + "s", "0,0", "-1600,0", "balloon.click"));
		
		// city zooms out
		$([object.getElementById("cityscape"), object.getElementById("mountains")])
			.append(createTransform("scale", seconds, "balloon.click", "1", "0.5"))
			.append(createMotion(seconds, "balloon.click", "0,0", "400,530", "go_back_balloon.click + " + seconds + "s"))
			.append(createTransform("scale", seconds, "go_back_balloon.click + " + seconds + "s", "0.5", "1"))
			.append(createMotion(seconds, "go_back_balloon.click + " + seconds + "s", "400,530", "0,0", "balloon.click"));
		
		// balloon moves left & down
		$(balloon)
			.append(createMotion(seconds, "balloon.click", "0,0", "-5,145", "go_back_balloon.click"))
			.append(createMotion(seconds, "go_back_balloon.click + " + seconds + "s", "-5,145", "0,0", "balloon.click"));
	
		// gradient moves up
		$(object.getElementById("gradient"))
			.append(createSet("visibility", "visible", "balloon.click", "go_back_balloon.click + " + seconds + "s", false))
			.append(createMotion(2*seconds, "balloon.click", "0,1600", "0,0", "go_back_balloon.click"))
			.append(createMotion(seconds, "go_back_balloon.click", "0,0", "0,1600", "balloon.click"));
		
		// plane flies in
		var backwards_path = "M-656.909-256.47c36.195,1.235,72.232,7.033,106.987,17.214   c10.699,4.643,22.719,6.79,34.071,9.469c60.546,14.288,121.273,28.631,179.596,50.274c50.692,18.811,99.869,42.223,148.338,66.188   c22.234,10.993,37.739,19.632,56.234,30.993c17.731,10.892,14,8,53.356,32.203C-49.431-31.533-20.534-12.935,8.364,5.662   c1.063,3.958,2.881-0.784,6.168,1.665";
		var path = "M0,0c-28.897-18.597-57.795-37.194-86.692-55.792   c-39.356-24.203-35.625-21.31-53.356-32.203c-18.495-11.361-34-20-56.234-30.993c-48.469-23.965-97.646-47.377-148.338-66.188   c-58.323-21.643-119.05-35.985-179.596-50.274c-11.352-2.679-23.371-4.826-34.071-9.469   c-34.756-10.181-70.792-15.979-106.987-17.214";
		$(object.getElementById("plane"))
			.append(createSet("visibility", "visible", "balloon.click + " + (2*seconds) + "s", "go_back_balloon.click + " + seconds + "s", false))
			.append(createPath(2*seconds, path, "0", "balloon.click + " + (2*seconds) + "s", "go_back_balloon.click + " + seconds + "s"))
			.append(createPath(seconds, backwards_path, "0", "go_back_balloon.click", "balloon.click"));
		$(object.getElementById("plane-shape"))
			.append(createTransform("rotate", 2*seconds, "balloon.click + " + (2*seconds) + "s", "0", "-10 0 0"))
			.append(createTransform("rotate", seconds, "go_back_balloon.click", "-10 0 0", "0"))
			.append(createMotion(2*seconds, "balloon.click + " + (2*seconds) + "s", "0,0", "0,300", "go_back_balloon.click"))
			.append(createMotion(2*seconds, "go_back_balloon.click", "0,300", "0,0", "balloon.click"));


		// satellite moves in
		path = "M-470,200c120.588-78.699,299.084-164.038,438.495-200.086";
		backwards_path = "M6,0c-46.197,0.786-110.27,27.218-152.812,45.243   c-34.879,14.778-70.572,27.767-104.637,44.335C-314,120-398.536,167.22-458,220c-7.086,6.29-11.25,14.464-17.222,21.82";
		$(object.getElementById("satellite"))
			.append(createSet("visibility", "visible", "balloon.click + " + (2*seconds) + "s", "go_back_balloon.click + " + (seconds) + "s", false))
			.append(createPath(2*seconds, path, "0", "balloon.click + " + (2*seconds) + "s", "go_back_balloon.click + " + seconds + "s"))
			.append(createPath(seconds, backwards_path, "0", "go_back_balloon.click", "balloon.click"));

		// lasers shoot up
		$(object.getElementById("lasers")).children().each(function() {$(this)
			.append(createSet("visibility", "visible", "balloon.click + " + (4*seconds) + "s", "go_back_balloon.click + " + (seconds/2.0) + "s", false))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "balloon.click + " + (4*seconds) + "s", "700", "0", "go_back_balloon.click", false))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "go_back_balloon.click", "0", "700", "balloon.click", false));
		});

		// text boxes draw
		$(object.getElementById("monitoring-lines")).children().each(function() {
			$(this).append(createSet("visibility", "visible", "balloon.click + " + (2.5*seconds) + "s", "go_back_balloon.click + " + (seconds/2.0) + "s", false))
			.append(createAnimate("stroke-dashoffset", seconds, "balloon.click + " + (2.5*seconds) + "s", "300", "0", "go_back_balloon.click", false))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "go_back_balloon.click", "0", "300", "balloon.click", false));
		});
		$(object.getElementById("monitoring-titles"))
			.append(createSet("visibility", "visible", "balloon.click + " + (2.5*seconds) + "s", "go_back_balloon.click + " + (seconds/2.0) + "s", false));
		// text box buttons draw
		$(object.getElementById("monitoring-buttons-open")).children().each(function() {
			var id = $(this).attr("id");
			var close_button = id + "close";
			$(this).append(createSet("visibility", "visible", "balloon.click + " + (3.5*seconds) + "s; " + close_button + ".click", "go_back_balloon.click; " + id + ".click", false));
			$(object.getElementById(close_button)).append(createSet("visibility", "visible", id + ".click", "go_back_balloon.click; " + close_button + ".click", false));
		});
		// text boxes & rects open up
		$(object.getElementById("monitoring-text-boxes")).children().each(function() {
			var open = $(this).attr("id") + "_open";
			var close = $(this).attr("id") + "_openclose";
			$(this).append(createSet("visibility", "visible", open + ".click", close + ".click + " + (seconds/2.0) + "s; go_back_balloon.click", false));
		});
		$(object.getElementById("clip-path1")).find("rect")
			.append(createAnimate("height", seconds/4.0, "monitoring1_open.click", "0", "129", "monitoring1_openclose.click; go_back_balloon.click", false))
			.append(createAnimate("height", seconds/4.0, "monitoring1_openclose.click", "129", "0", "monitoring1_open.click; go_back_balloon.click", false));
		$(object.getElementById("clip-path2")).find("rect")
			.append(createAnimate("height", seconds/4.0, "monitoring2_open.click", "0", "129", "monitoring2_openclose.click; go_back_balloon.click", false))
			.append(createAnimate("height", seconds/4.0, "monitoring2_openclose.click", "129", "0", "monitoring2_open.click; go_back_balloon.click", false));
		$(object.getElementById("clip-path3")).find("rect")
			.append(createAnimate("height", seconds/4.0, "monitoring3_open.click", "0", "129", "monitoring3_openclose.click; go_back_balloon.click", false))
			.append(createAnimate("height", seconds/4.0, "monitoring3_openclose.click", "129", "0", "monitoring3_open.click; go_back_balloon.click", false));
		$(object.getElementById("clip-path4")).find("rect")
			.append(createAnimate("height", seconds/4.0, "monitoring4_open.click", "0", "129", "monitoring4_openclose.click; go_back_balloon.click", false))
			.append(createAnimate("height", seconds/4.0, "monitoring4_openclose.click", "129", "0", "monitoring4_open.click; go_back_balloon.click", false));

	}

	function citiesClicked(object, buildings, seconds, trees, person, trees_hidden, smog, sand) {
		$(buildings).click(function() {
			$([buildings, trees, trees_hidden]).attr("cursor", "auto").attr("pointer-events", "none");
			$(smog).fadeOut(seconds*1000);

			$(object.getElementById("group1")).delay(2*seconds*1000 + 200).fadeIn(400);
			$(object.getElementById("group2")).delay(2*seconds*1000 + 800).fadeIn(400);
			$(object.getElementById("group3")).delay(2*seconds*1000 + 1400).fadeIn(400);
			$(object.getElementById("go_back_cities")).delay(4*seconds*1000 + 1400).fadeIn(200);
		});

		// text moves in
		$(object.getElementById("sources-text")).append(createMotion(seconds, "buildings.click", "-1600,0", "0,0", "go_back_cities.click + " + seconds + "s"))
			.append(createSet("visibility", "visible", "buildings.click", "go_back_cities.click + " + (2*seconds) + "s", false))
			.append(createMotion(seconds, "go_back_cities.click + " + seconds + "s", "0,0", "-1600,0", "buildings.click"));
		
		// scale city
		$([object.getElementById("cityscape"), trees_hidden, object.getElementById("mountains")])
			.append(createTransform("scale", seconds, "buildings.click", "1", "1.23"))
			.append(createMotion(seconds, "buildings.click", "0,0", "-50,-90", "go_back_cities.click + " + seconds + "s"))
			.append(createTransform("scale", seconds, "go_back_cities.click + " + seconds + "s", "1.23", "1"))
			.append(createMotion(seconds, "go_back_cities.click + " + seconds + "s", "-50,-90", "0,0", "buildings.click"));

		// car moves in
		$(object.getElementById("car")).append(createSet("visibility", "visible", "buildings.click + " + (seconds) + "s", "go_back_cities.click + " + (seconds) + "s", false))
			.append(createMotion(seconds, "buildings.click + " + (seconds) + "s", "800,0", "0,0", "go_back_cities.click"))
			.append(createMotion(seconds, "go_back_cities.click", "0,0", "800,0", "buildings.click"));
	
		// lines draw
		$([object.getElementById("line1"), object.getElementById("line2"), object.getElementById("line3")])
			.append(createAnimate("stroke-dashoffset", 2*seconds, "buildings.click + " + (2*seconds) + "s", "350", "0", "go_back_cities.click", false))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "go_back_cities.click", "0", "350", "buildings.click", false));
		$(object.getElementById("line4"))
			.append(createAnimate("stroke-dashoffset", 2*seconds, "buildings.click + " + (2*seconds) + "s", "150", "0", "go_back_cities.click", false))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "go_back_cities.click", "0", "150", "buildings.click", false));
		$([object.getElementById("circle1"), object.getElementById("circle2"), object.getElementById("circle3"), object.getElementById("circle4")])
			.append(createSet("visibility", "visible", "buildings.click + " + (4*seconds) + "s", "go_back_cities.click", false));
		$(object.getElementById("line5")).append(createAnimate("stroke-dashoffset", 2*seconds, "buildings.click + " + (2*seconds + 1.4) + "s", "-300", "0", "go_back_cities.click"))
			.append(createAnimate("stroke-dashoffset", seconds/2.0, "go_back_cities.click", "0", "-300", "buildings.click", false));
		$(object.getElementById("circle5")).append(createSet("visibility", "visible", "buildings.click + " + (4*seconds + 1.4) + "s", "go_back_cities.click"));
		$(object.getElementById("sunlight")).append(createSet("visibility", "visible", "buildings.click + " + (2*seconds + 1.4) + "s", "go_back_cities.click + " + seconds + "s"))
			.append(createMotion(2*seconds, "buildings.click + " + (2*seconds) + "s", "500,0", "0,0", "go_back_cities.click"))
			.append(createMotion(seconds, "go_back_cities.click", "0,0", "500,0", "buildings.click"));
	}


	function personClicked(object, person, trees_hidden, balloon, beach, seconds) {
		$(person).click(function() {
			$(person).attr("cursor", "auto").attr("pointer-events", "none");
			$(trees_hidden).attr("cursor", "auto").attr("pointer-events", "none");
			$(object.getElementById("tree-ground")).hide();
			$(object.getElementById("go_back")).delay(3/2.0*seconds * 1000).fadeIn(200);
		});
		
		// hide elements of page1
		$(object.getElementById("first")).append(createMotion(seconds, "person.click;", "0,0", "2000,0", "go_back.click"))
			.append(createMotion(seconds, "go_back.click", "2000,0", "0,0", "person.click;"));
		// make trees bigger
		$(object.getElementsByClassName("trees-hide")).hide();
		// make beach and person bigger
		$(beach).append(createTransform("scale", seconds, "person.click", "1", "1.25"))
			.append(createMotion(seconds, "person.click", "0,0", "-410,-200", "go_back.click"))
			.append(createTransform("scale", seconds, "go_back.click", "1.25", "1"))
			.append(createMotion(seconds, "go_back.click", "-410,-200", "0,0", "person.click"));

		$(object.getElementById("person-text")).append(createMotion(seconds, "person.click", "-1600,0", "0,0", "go_back.click"))
			.append(createSet("visibility", "visible", "person.click", "go_back.click + " + seconds + "s", false));
		$(object.getElementById("draw-respiratory-line")).append(createSet("visibility", "visible", "person.click + " + (seconds/2) + "s", "go_back.click", false));
		$(object.getElementById("draw-respiratory-line")).append(createAnimate("stroke-dashoffset", seconds/2, "person.click + " + (seconds) + "s", "440", "0", "go_back.click", false));
		$(object.getElementById("respiratory-dropdown")).append(createSet("visibility", "visible", "person.click + " + (3/2.0*seconds) + "s", "go_back.click", false));
		//$(object.getElementById("draw-respiratory-line-health")).append(createSet("visibility", "visible", "person.click + " + (seconds) + "s", false, false));
		//$(object.getElementById("draw-respiratory-line-health")).append(createAnimate("stroke-dashoffset", seconds, "person.click + " + (seconds) + "s", "440", "0", false, false));
		//$(object.getElementById("respiratory-dropdown-health")).append(createSet("visibility", "visible", "person.click + " + (2*seconds) + "s", false, false));
			// to go back to homepage:
		$(object.getElementById("person-text")).append(createMotion(seconds, "go_back.click", "0,0", "-1600,0", "person.click"));
		$(object.getElementById("draw-respiratory-line")).append(createAnimate("stroke-dashoffset", seconds, "go_back.click", "0", "440", "person.click", false));
		
		$(object.getElementsByClassName("fade1")).each(function() {$(this).append(createSet("visibility", "visible", "person.click + " + seconds + "s", "go_back.click", false));});
		$(object.getElementById("health-line2")).append(createAnimate("stroke-dashoffset", seconds*3, "person.click + " + (seconds) + "s", "150", "0", "go_back.click", false));
		$(object.getElementById("health-line2")).append(createSet("visibility", "visible", "person.click + " + (seconds) + "s", "go_back.click", false));
		$(object.getElementById("health-line2")).append(createSet("stroke-dasharray", "0", "person.click + " + (seconds + 0.25) + "s", "go_back.click", false));

		$(object.getElementById("forward")).append(createSet("visibility", "visible", "person.click + " + (seconds) + "s; respiratory2.click + " + (seconds) + "s; reverse_health.click + " + (seconds) + "s", "forward.click; go_back.click", false));
		//$(object.getElementById("forward")).append(createSet("visibility", "visible", "closeHealth.click + " + (seconds) + "s; reverse_health.click + " + (seconds) + "s", "forward.click; go_back.click"));	// THIS ONE

		//$(object.getElementById("forward")).click(function() {
		//	$(object.getElementById("go_back")).attr("cursor", "auto").attr("pointer-events", "none");
		//});
		
		initializeHealthLine(object, seconds, 0);
		hideHealth(object, seconds, 0);

		initializeRespiratory(object, seconds, 0);
	}

	function initializeRespiratory(object, seconds, sec) {
		// open respiratory effects
		$(object.getElementById("respiratory-hide")).append(createAnimate("height", 1, "respiratory2.click; respiratory2health.click", "495", "0", false));
		//$([object.getElementById("respiratory2"), object.getElementById("respiratory2health")]).click(function() {
		$(object.getElementById("respiratory2")).click(function() {	
			$(object.getElementById("respiratory2")).fadeOut(200);
			//$(object.getElementById("respiratory2-health")).fadeOut(200);
			$(object.getElementById("respiratory-close")).fadeIn(200);
			$(object.getElementById("respiratory-info")).show();

			// hide health impacts
			//$(object.getElementById("reverse_health")).click();
		});

		// close respiratory effects
		$([object.getElementById("respiratory-close"), object.getElementById("forward")]).click(function() {
			$(object.getElementById("respiratory2")).fadeIn(200);
			//$(object.getElementById("respiratory2-health")).fadeIn(200);
			$(object.getElementById("respiratory-close")).fadeOut(200);
			$(object.getElementById("respiratory-info")).fadeOut(200);
		});
	}

	function initializeHealthLine(object, seconds, sec) {
		$(object.getElementById("health-line")).append(createSet("visibility", "visible", "forward.click; respiratory-close.click", "respiratory2.click + " + seconds/2.0 + "s; reverse_health.click + " + seconds + "s; go_back.click", false));	//respiratory2.click
		$(object.getElementById("health-line")).append(createAnimate("stroke-dashoffset", seconds*2, "forward.click", "1000", "0", "respiratory2.click; reverse_health.click; go_back.click", false));
		$(object.getElementById("health-line")).append(createAnimate("stroke-dashoffset", seconds/2.0, "respiratory2.click; reverse_health.click; closeHealth.click; go_back.click", "0", "1000", "forward.click; respiratory-close.click", false));

		$(object.getElementById("go_back")).append(createSet("pointer-events", "none", "forward.click", "forward.click + " + (2*seconds) + "s", false))
			.append(createSet("cursor", "auto", "forward.click", "forward.click + " + (2*seconds) + "s", false));

		/*sec = seconds*2 / 5.0;
		$(object.getElementById("small-lines1")).append(createAnimate("stroke-dashoffset", seconds/2, "forward.click + " + sec + "s", "50", "0", "go_back.click", false))
			.append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", "fade2"));
		$(object.getElementsByClassName("fade2")).each(function() {$(this)
			.append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		
		$(object.getElementById("small-lines2")).append(createAnimate("stroke-dashoffset", seconds/2, "fade2.begin + " + sec + "s", "50", "0", "go_back.click; fade2.end", false))
			.append(createSet("visibility", "visible", "fade2.begin + " + (sec) + "s", "go_back.click; fade2.end", "fade3"));
		$(object.getElementsByClassName("fade3")).each(function() {$(this)
			.append(createSet("visibility", "visible", "fade2.begin + " + (sec) + "s", "go_back.click; fade2.end", false));});

		$(object.getElementById("small-lines3")).append(createAnimate("stroke-dashoffset", seconds/2, "fade3.begin + " + sec + "s", "50", "0", "go_back.click; fade3.end", false))
			.append(createSet("visibility", "visible", "fade3.begin + " + (sec) + "s", "go_back.click; fade3.end", "fade4"));
		$(object.getElementsByClassName("fade4")).each(function() {$(this)
			.append(createSet("visibility", "visible", "fade3.begin + " + (sec) + "s", "go_back.click; fade3.end", false));});
		
		$(object.getElementById("small-lines4")).append(createAnimate("stroke-dashoffset", seconds/2, "fade4.begin + " + sec + "s", "50", "0", "go_back.click; fade4.end", false))
			.append(createSet("visibility", "visible", "fade4.begin + " + (sec) + "s", "go_back.click; fade4.end", "fade5"));
		$(object.getElementsByClassName("fade5")).each(function() {$(this)
			.append(createSet("visibility", "visible", "fade4.begin + " + (sec) + "s", "go_back.click; fade4.end", false));});

		$(object.getElementsByClassName("fade6")).each(function() {$(this)
			.append(createSet("visibility", "visible", "fade5.begin + " + (sec) + "s", "go_back.click; fade5.end", false));});
		*/

		sec += seconds*2 / 5.0;
		$(object.getElementById("small-lines1")).append(createAnimate("stroke-dashoffset", seconds/2, "forward.click + " + sec + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade2")).each(function() {$(this).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		
		sec += seconds*2 / 5.0;
		$(object.getElementById("small-lines2")).append(createAnimate("stroke-dashoffset", seconds/2, "forward.click + " + sec + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade3")).each(function() {$(this).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		
		sec += seconds*2 / 5.0;
		$(object.getElementById("small-lines3")).append(createAnimate("stroke-dashoffset", seconds/2, "forward.click + " + sec + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade4")).each(function() {$(this).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		
		sec += seconds*2 / 5.0;
		$(object.getElementById("small-lines4")).append(createAnimate("stroke-dashoffset", seconds/2, "forward.click + " + sec + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade5")).each(function() {$(this).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		
		sec += seconds*2 / 5.0;
		$(object.getElementsByClassName("fade6")).each(function() {$(this).append(createSet("visibility", "visible", "forward.click + " + (sec) + "s", "go_back.click", false));});
		

		/*$([object.getElementById("reverse_health"), $(object.getElementById("closeHealth"))]).click(function() {
			$(object.getElementById("closeHealth")).hide();
		});
		$(object.getElementById("forward")).click(function() {
			$(object.getElementById("closeHealth")).delay(seconds*1000).show(0);
		});*/
	}

	function hideHealth(object, seconds, sec) {
		seconds /= 4;
		sec = 2*seconds * 0.9818;

		sec -= seconds*2 / 5.5;
		$(object.getElementById("small-lines1")).append(createAnimate("stroke-dashoffset", seconds/2, "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade2")).each(function() {$(this).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click"));});
		
		sec -= seconds*2 / 5.0;
		$(object.getElementById("small-lines2")).append(createAnimate("stroke-dashoffset", seconds/2, "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade3")).each(function() {$(this).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click"));});
		
		sec -= seconds*2 / 5.0;
		$(object.getElementById("small-lines3")).append(createAnimate("stroke-dashoffset", seconds/2, "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade4")).each(function() {$(this).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click"));});
		
		sec -= seconds*2 / 5.0;
		$(object.getElementById("small-lines4")).append(createAnimate("stroke-dashoffset", seconds/2, "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "50", "0", "go_back.click", false)).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click", false));
		$(object.getElementsByClassName("fade5")).each(function() {$(this).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click"));});
		
		sec -= seconds*2 / 5.0;
		$(object.getElementsByClassName("fade6")).each(function() {$(this).append(createSet("visibility", "hidden", "respiratory2.click + " + (sec) + "s; reverse_health.click + " + (sec) + "s; closeHealth.click + " + (sec) + "s", "go_back.click", false));});
	}


	function createPath(seconds, path, rotate, begin, end) {
		var animation = document.createElementNS("http://www.w3.org/2000/svg","animateMotion");
		animation.setAttribute("dur", seconds + "s");
		animation.setAttribute("repeatCount", "1");
		animation.setAttribute("begin", begin);
		animation.setAttribute("path", path);
		animation.setAttribute("fill", "freeze");
		animation.setAttribute("end", end);
		animation.setAttribute("rotate", rotate);
		return animation;
	}

	function createMotion(seconds, begin, from, to, end) {
		var animation = document.createElementNS("http://www.w3.org/2000/svg","animateMotion");
		animation.setAttribute("dur", seconds + "s");
		animation.setAttribute("repeatCount", "1");
		animation.setAttribute("begin", begin);
		animation.setAttribute("from", from);
		animation.setAttribute("to", to);
		animation.setAttribute("fill", "freeze");
		if (end != false)
			animation.setAttribute("end", end);
		return animation;
	}
	function createTransform(type, seconds, begin, from, to) {
		var scale = document.createElementNS("http://www.w3.org/2000/svg","animateTransform");
		scale.setAttribute("attributeName", "transform");
		scale.setAttribute("attributeType", "XML");
		scale.setAttribute("type", type);
		scale.setAttribute("dur", seconds + "s");
		scale.setAttribute("repeatCount", "1");
		scale.setAttribute("begin", begin);
		scale.setAttribute("from", from);
		scale.setAttribute("to", to);
		scale.setAttribute("fill", "freeze");
		return scale;
	}
	function createSet(name, to, begin, end, id) {
		var set = document.createElementNS("http://www.w3.org/2000/svg","set");
		set.setAttribute("attributeName", name);
		set.setAttribute("attributeType", "XML");
		set.setAttribute("to", to);
		set.setAttribute("begin", begin);
		if (end != false)
			set.setAttribute("end", end);
		if (id != false)
			set.setAttribute("id", id);
		return set;
	}
	function createAnimate(name, seconds, begin, from, to, end, id) {
		var animation = document.createElementNS("http://www.w3.org/2000/svg","animate");
		animation.setAttribute("dur", seconds + "s");
		animation.setAttribute("attributeName", name);
		animation.setAttribute("attributeType", "XML");
		animation.setAttribute("repeatCount", "1");
		animation.setAttribute("begin", begin);
		animation.setAttribute("from", from);
		animation.setAttribute("to", to);
		animation.setAttribute("fill", "freeze");
		if (end != false)
			animation.setAttribute("end", end);
		if (id != false)
			animation.setAttribute("id", id);
		return animation;
	}

</script>
</body>
</html>