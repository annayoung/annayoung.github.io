<!DOCTYPE html>
<!--

To change color scheme, edit colors of <aside> and cartocss/html script below. 
-->
<html>
  <head>
     <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
     <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
     <link href='style.css' rel='stylesheet' type='text/css'>
     <title>Terrestrial Habitat Protection Map</title>
     <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
     <script type="text/javascript" src="./slide.js"></script>
     <script type="text/javascript" src="./main.js"></script>
     <script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script> 

     <meta property="og:url" content="http://epi.yale.edu/visuals/biodiversity-map/" />
     <meta property="og:title" content="Terrestrial Habitat Protection Map">
     <meta property="og:image" content="http://epi.yale.edu/visuals/biodiversity-map/screenshot.png" />

  </head>

  <body>
    <div id="map"></div>

    <div id="tool-tip">
      <object id="svg-object" style="pointer-events: auto;position: absolute; left: 0;" type="image/svg+xml" data="./final.svg">Your browser does not support SVG</object>
    </div>

    <div id="country-hover">
      <img src="./plus.png" width="15px" height="15px" style="display: inline">
      <span id="country"></span>
    </div>

    <div id="parks">
      <div id="switch"><div id="switch-button"></div></div>
      <span id="park-button">Explore National Protected Areas</span>
    </div>

    <div id="tooltip-container">
      <div id="biome-label-container"><div id="biome-label"><span id="biome-title">Tropical & <br>Subtropical Moist Broadleaf Forests</span></div></div>
      <div id="tooltip-info">
        <span id="protections">
          <span id="biome-protection1" style="display: inline; top: 87px;left: 18px;"></span>
          <span id="biome-protection2" style="top: 50px;left: 49px;"></span>
          <span id="biome-protection3" style="top: 28px;left: 93px;"></span>
          <span id="biome-protection4" style="top: 25px;left: 140px;"></span>
          <span id="biome-protection5" style="top: 46px;left: 186px;"></span>
          <span id="biome-protection6" style="top: 85px;left: 218px;"></span>
          <span id="biome-protection7" style="top: 137px;left: 228px;"></span>
          <span id="biome-protection8" style="top: 184px;left: 218px;"></span>
          <span id="biome-protection9" style="top: 223px;left: 187px;"></span>
          <span id="biome-protection10" style="top: 245px;left: 143px;"></span>
          <span id="biome-protection11" style="top: 245px;left: 93px;"></span>
          <span id="biome-protection12" style="top: 223px;left: 47px;"></span>
          <span id="biome-protection13" style="top: 184px;left: 16px;"></span>
          <span id="biome-protection14" style="top: 137px;left: 6px;"></span>
        </span>
          <!--<span id="biome-text" style="font-size: 14px">% protected</span>-->
        <span id="globals">
          <span id="biome-global1" style="display: inline"></span>
          <span id="biome-global2"></span>
          <span id="biome-global3"></span>
          <span id="biome-global4"></span>
          <span id="biome-global5"></span>
          <span id="biome-global6"></span>
          <span id="biome-global7"></span>
          <span id="biome-global8"></span>
          <span id="biome-global9"></span>
          <span id="biome-global10"></span>
          <span id="biome-global11"></span>
          <span id="biome-global12"></span>
          <span id="biome-global13"></span>
          <span id="biome-global14"></span>
        </span>
        
      </div>
    </div>
    <div id="legends">   
      <div id="legend_countries" class="legend">
        <p class="legend_title">EPI Terrestrial Habitat Protection Score</p>
        <span class="left">0</span>
        <span class="right">100</span><br>
        <aside class="colors">
          <div style="background-color:#D3CC03;"></div>
          <div style="background-color:#BCC00F;"></div>
          <div style="background-color:#A5B41B;"></div>
          <div style="background-color:#8EA927;"></div>
          <div style="background-color:#779D33;"></div>
          <div style="background-color:#619240;"></div>
        </aside>
      </div>
    </div>

    <div id="slide_out_info">
      <a class="handle" href="#">
        <span id="rotated_text">HOW TO READ THIS MAP</span>
      </a>
      <div class="content">
        <div class="text" style="font-family: arial; font-size: 14px;">
          <h1 style="color: #366ab2"></h1>
          <br> 
          <img height="auto" width="460" src="./infographic.png">
          <br>
          <!--<i style="font-size: 11px"><br>Map programmed by Anna Young (Yale College '16) <br>Design by Peter Hirsch (MEM '15 candidate) </i>--><br><br>
          
      </div></div>
    </div>

    <script type="cartocss/html" id="pacovw">
     // COLOR SCHEME
      #pacovw{
        polygon-fill: #fff;
        polygon-opacity: 0.9;
        line-color: #000;
        line-width: 0.25;
        line-opacity: 1;
        polygon-pattern-file: url(http://epi.yale.edu/visuals/biodiversity-map/paper_texture_white.png);
        polygon-pattern-comp-op: multiply;
      }

      #pacovw [ {0} < 18] {
         polygon-fill: #619240;
      }
      #pacovw [ {0} < 15] {
         polygon-fill: #779D33;
      }
      #pacovw [ {0} < 12] {
         polygon-fill: #8EA927;
      }
      #pacovw [ {0} < 9] {
         polygon-fill: #A5B41B;
      }
      #pacovw [ {0} < 6] {
         polygon-fill: #BCC00F;
      }
      #pacovw [ {0} < 3] {
         polygon-fill: #D3CC03;
      }
      #pacovw [ {0} < 0] {
         polygon-fill: rgb(199, 199, 197);
      }

    </script>   

    <script type="text/javascript">
       //have the info tab slide out
      $('#slide_out_info').tabSlideOut({
        tabHandle: '.handle',                //class of the element
        height: '190px',                     //height of tab (110)
        width: '30px',                       //width of tab 
        tabLocation: 'left',                 //location
        speed: 400,                          //speed of animation
        action: 'click',                   
      });
    </script>  
  </body>
</html>