<!DOCTYPE html>
<!--index.html, author Anna Young 
To change color scheme, edit colors of <aside> and cartocss/html script below. 
-->
<html>
  <head>
     <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
     <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
     <link href='style.css' rel='stylesheet' type='text/css'>
     <title>Biodiversity Protection Interactive Map</title>
     <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
     <script type="text/javascript" src="./slide.js"></script>
     <script type="text/javascript" src="./main.js"></script>
     <script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script> 
  </head>

  <body>
    <div id="map"></div>

    <div id="species-tooltip">
      <p ><span id="species-text"></span><br><br>
      <img src="./Species1.png" class="species-pic">
      <span class="species-span"></span><br><br></p>
      <div id="species-facts">
        <table>
          <tr>
            <td>Expert range size</td>
            <td id="data1"></td>
            <td id="data2"></td>
            <td>Refined range size</td>
          </tr>
          <tr>
            <td>Total validation points</td>
            <td id="data3"></td>
            <td id="data4"></td>
            <td>Validation points in refined range</td>
          </tr>

        </table>
      </div>
      <div id="iframe-container">
        <iframe id="iframe" src="http://ng-alpha.map-of-life.appspot.com/info/protect/Megalaima_corvina" scrolling="no" border="none" ></iframe>
      </div>
      <div style="height: 40px; position: absolute; top: 620px; width: 100%"></div>
    </div>

    <div id="tool-tip">
      <object id="svg-object" style="pointer-events: auto;position: absolute; left: 0; right: 0;" type="image/svg+xml" data="./final.svg">Your browser does not support SVG</object>
    </div>
    <p id="tooltip-info">
      <span id="biome-label">Tropical & <br>Subtropical Moist Broadleaf Forests</span>
      <span id="biome-specifics">
      <span id="protections">
        <span id="biome-protection1" style="display: inline"></span>
        <span id="biome-protection2"></span>
        <span id="biome-protection3"></span>
        <span id="biome-protection4"></span>
        <span id="biome-protection5"></span>
        <span id="biome-protection6"></span>
        <span id="biome-protection7"></span>
        <span id="biome-protection8"></span>
        <span id="biome-protection9"></span>
        <span id="biome-protection10"></span>
        <span id="biome-protection11"></span>
        <span id="biome-protection12"></span>
        <span id="biome-protection13"></span>
        <span id="biome-protection14"></span>
      </span>
      <span id="biome-text" style="font-size: 14px">% protected</span>
      <span id="globals">
        <span id="biome-global1" style="display: inline"></span>
        <span id="biome-global2"></span>
        <span id="biome-global3"></span>
        <span id="biome-global4"></span>
        <span id="biome-global5"></span>
        <span id="biome-global6"></span>
        <span id="biome-global7"></span>
        <span id="biome-global8"></span>
        <span id="biome-global9"></span>
        <span id="biome-global10"></span>
        <span id="biome-global11"></span>
        <span id="biome-global12"></span>
        <span id="biome-global13"></span>
        <span id="biome-global14"></span>
      </span>
      <span id="biome-text" style="font-size: 14px">% of global</span></span>
    </p>
    </div>
    <div id="legends">   
      <div id="legend_countries" class="legend">
        <p class="legend_title">Biodiversity Protection Score</p>
        <span class="left">0%</span>
        <span class="right">17%</span><br>
        <aside class="colors">
          <div style="background-color:#D3CC03;"></div>
          <div style="background-color:#BCC00F;"></div>
          <div style="background-color:#A5B41B;"></div>
          <div style="background-color:#8EA927;"></div>
          <div style="background-color:#779D33;"></div>
          <div style="background-color:#619240;"></div>
        </aside>
      </div>
    </div>

    <div id="slide_out_info">
      <a class="handle" href="#">
        <span id="rotated_text">MAP INFO</span>
      </a>
      <div class="content">
        <div class="text" style="font-family: arial; font-size: 14px;">
          <h1 style="color: #366ab2"></h1>
          <br> 
          <img height="1709" width="460" src="http://epi.yale.edu/files/terrestrial-protected-areas_final-01.png">
          <br>
          <i style="font-size: 11px">Map created by Anna Young (Yale College '16) and designed by Peter Hirsch (MEM '15 candidate) </i><br><br>
          
      </div></div>
    </div>

    <script type="cartocss/html" id="pacovw">
     // COLOR SCHEME
      #pacovw{
        polygon-fill: #fff;
        polygon-opacity: 0.9;
        line-color: #000;
        line-width: 0.25;
        line-opacity: 1;
        polygon-pattern-file: url(http://annayoung.github.io/map-of-life/paper_texture_white.png);
        polygon-pattern-comp-op: multiply;
      }

      #pacovw [ {0} < 18] {
         polygon-fill: #619240;
      }
      #pacovw [ {0} < 15] {
         polygon-fill: #779D33;
      }
      #pacovw [ {0} < 12] {
         polygon-fill: #8EA927;
      }
      #pacovw [ {0} < 9] {
         polygon-fill: #A5B41B;
      }
      #pacovw [ {0} < 6] {
         polygon-fill: #BCC00F;
      }
      #pacovw [ {0} < 3] {
         polygon-fill: #D3CC03;
      }
      #pacovw [ {0} < 0] {
         polygon-fill: rgb(199, 199, 197);
      }

      #pacovw [country = 'Species1'] {
        polygon-fill: #d09b23;
        polygon-opacity: 1;
        polygon-smooth: 1;
        /*polygon-opacity: 0;
        polygon-pattern-file: url(https://s3.amazonaws.com/com.cartodb.users-assets.production/production/annasyoung/assets/20141103230801Koala.jpg);*/
      }


    </script>   

    <script type="text/javascript">
       //have the info tab slide out
      $('#slide_out_info').tabSlideOut({
        tabHandle: '.handle',                //class of the element
        height: '110px',                     //height of tab 
        width: '30px',                       //width of tab 
        tabLocation: 'left',                 //location
        speed: 400,                          //speed of animation
        action: 'click',                   
      });
    </script>  
  </body>
</html>